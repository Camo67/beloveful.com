<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Travel Portfolio</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: #333; }
    .max-w-7xl { max-width: 1280px; }
    .mx-auto { margin-left: auto; margin-right: auto; }
    .px-4 { padding-left: 1rem; padding-right: 1rem; }
    .sm\:px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
    .lg\:px-8 { padding-left: 2rem; padding-right: 2rem; }
    .py-8 { padding-top: 2rem; padding-bottom: 2rem; }
    .text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
    .font-bold { font-weight: 700; }
    .text-gray-900 { color: #111827; }
    .mb-8 { margin-bottom: 2rem; }
    .grid { display: grid; }
    .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
    .md\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    .gap-6 { gap: 1.5rem; }
    .md\:col-span-1 { grid-column: span 1 / span 1; }
    .bg-white { background-color: #fff; }
    .rounded-lg { border-radius: 0.5rem; }
    .shadow { box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06); }
    .overflow-hidden { overflow: hidden; }
    .sticky { position: sticky; }
    .top-0 { top: 0px; }
    .h-full { height: 100%; }
    .overflow-y-auto { overflow-y: auto; }
    .border-b { border-bottom-width: 1px; }
    .last\:border-0:last-child { border-bottom-width: 0px; }
    .font-semibold { font-weight: 600; }
    .p-4 { padding: 1rem; }
    .bg-gray-50 { background-color: #f9fafb; }
    .divide-y > :not([hidden]) ~ :not([hidden]) { border-top-width: 1px; }
    .hover\:bg-gray-50:hover { background-color: #f9fafb; }
    .transition-colors { transition-property: background-color, border-color, color, fill, stroke; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
    .text-gray-700 { color: #374151; }
    .text-sm { font-size: 0.875rem; line-height: 1.25rem; }
    .text-gray-500 { color: #6b7280; }
    .md\:col-span-3 { grid-column: span 3 / span 3; }
    .text-2xl { font-size: 1.5rem; line-height: 2rem; }
    .text-blue-600 { color: #2563eb; }
    .hover\:text-blue-800:hover { color: #1e40af; }
    .bg-red-50 { background-color: #fef2f2; }
    .text-red-700 { color: #b91c1c; }
    .rounded-md { border-radius: 0.375rem; }
    .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
    .object-cover { object-fit: cover; }
    .w-full { width: 100%; }
    .h-48 { height: 12rem; }
    .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .sm\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    .md\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    @media (min-width: 768px) {
      .sm\:px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
      .sm\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }
    @media (min-width: 1024px) {
      .lg\:px-8 { padding-left: 2rem; padding-right: 2rem; }
      .md\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
      .md\:col-span-1 { grid-column: span 1 / span 1; }
      .md\:col-span-3 { grid-column: span 3 / span 3; }
    }
    .h-\[calc\(100vh-8rem\) { height: calc(100vh - 8rem); }
  </style>
</head>
<body>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl font-bold text-gray-900 mb-8">Travel Portfolio</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
      <!-- Region/Country Navigation -->
      <div class="md:col-span-1 h-[calc(100vh-8rem)]">
        <div class="bg-white rounded-lg shadow overflow-hidden sticky top-0 h-full overflow-y-auto">
          <!-- Regions will be populated here -->
        </div>
      </div>

      <!-- Image Gallery -->
      <div class="md:col-span-3">
        <div id="gallery-container">
          <div class="text-center py-12 bg-gray-50 rounded-lg">
            <h2 class="text-xl font-semibold text-gray-700">
              Select a region and country to view travel photos
            </h2>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Inline JSON data
    const indexData = {
      "summary": {
        "considered": 2228,
        "skipped_already_foldered": 0,
        "matched_regions": 5,
        "unknown_count": 5
      },
      "totals": {
        "folders": 92,
        "assets": 2228
      },
      "folders": [
        {
          "folder": "Africa/Egypt",
          "path": "cloudinary-assets/Africa/Egypt",
          "type": "country",
          "count": 189,
          "assetsPath": "cloudinary-assets/Africa/Egypt/urls.json",
          "region": "Africa",
          "country": "Egypt",
          "assets": [
            {"url": "https://res.cloudinary.com/your-cloud-name/image/upload/v123/Africa/Egypt/image1.jpg"},
            {"url": "https://res.cloudinary.com/your-cloud-name/image/upload/v123/Africa/Egypt/image2.jpg"}
          ]
        },
        {
          "folder": "Africa/Ethiopia",
          "path": "cloudinary-assets/Africa/Ethiopia",
          "type": "country",
          "count": 14,
          "assetsPath": "cloudinary-assets/Africa/Ethiopia/urls.json",
          "region": "Africa",
          "country": "Ethiopia",
          "assets": [
            {"url": "https://res.cloudinary.com/your-cloud-name/image/upload/v123/Africa/Ethiopia/image1.jpg"}
          ]
        },
        // More countries would be included here with their actual asset URLs
        {
          "folder": "Asia/Japan",
          "path": "cloudinary-assets/Asia/Japan",
          "type": "country",
          "count": 20,
          "assetsPath": "cloudinary-assets/Asia/Japan/urls.json",
          "region": "Asia",
          "country": "Japan",
          "assets": [
            {"url": "https://res.cloudinary.com/your-cloud-name/image/upload/v123/Asia/Japan/image1.jpg"}
          ]
        }
      ]
    };

    // Application logic
    document.addEventListener('DOMContentLoaded', () => {
      const galleryContainer = document.getElementById('gallery-container');
      let selectedCountry = null;

      // Filter and group country folders by region
      const regions = {};
      indexData.folders
        .filter(folder => folder.type === 'country')
        .forEach(folder => {
          if (!regions[folder.region]) {
            regions[folder.region] = [];
          }
          regions[folder.region].push(folder);
        });

      // Render regions and countries
      const navContainer = document.querySelector('.sticky.top-0');
      Object.entries(regions).forEach(([region, countries]) => {
        const regionDiv = document.createElement('div');
        regionDiv.className = 'border-b last:border-0';
        regionDiv.innerHTML = `
          <h2 class="font-semibold p-4 bg-gray-50 border-b">
            ${region}
          </h2>
          <ul class="divide-y">
            ${countries.map(country => `
              <li 
                class="p-4 hover:bg-gray-50 cursor-pointer transition-colors"
                data-country="${country.country}"
                data-assets='${JSON.stringify(country.assets)}'
              >
                <div class="flex justify-between items-center">
                  <span class="font-medium text-gray-700">${country.country}</span>
                  <span class="text-sm text-gray-500">${country.count} images</span>
                </div>
              </li>
            `).join('')}
          </ul>
        `;
        navContainer.appendChild(regionDiv);
      });

      // Add click handlers to countries
      document.querySelectorAll('[data-country]').forEach(item => {
        item.addEventListener('click', () => {
          selectedCountry = item.dataset.country;
          const assets = JSON.parse(item.dataset.assets);
          
          galleryContainer.innerHTML = `
            <div>
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-gray-900">${selectedCountry}</h2>
                <button id="back-button" class="text-sm text-blue-600 hover:text-blue-800">
                  ‚Üê Back to all regions
                </button>
              </div>

              <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
                ${assets.map(asset => `
                  <div class="rounded-lg overflow-hidden shadow-md">
                    <img
                      src="${asset.url}"
                      alt="${selectedCountry} travel photo"
                      class="w-full h-48 object-cover"
                      loading="lazy"
                    />
                  </div>
                `).join('')}
              </div>
            </div>
          `;

          // Add back button functionality
          document.getElementById('back-button').addEventListener('click', () => {
            selectedCountry = null;
            galleryContainer.innerHTML = `
              <div class="text-center py-12 bg-gray-50 rounded-lg">
                <h2 class="text-xl font-semibold text-gray-700">
                  Select a region and country to view travel photos
                </h2>
              </div>
            `;
          });
        });
      });
    });
  </script>
</body>
</html>